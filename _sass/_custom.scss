// Custom styles for Micah's site

// Import Real Head Pro Semilight font
@import url('https://db.onlinewebfonts.com/c/d95435f10571a13cbfea1d673e6b3c99?family=Real+Head+Pro+Semilight');

// Real Head Pro Semilight as default font with smooth page load
body {
  font-family: 'Real Head Pro Semilight', -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif !important;
  opacity: 0;
  transition: opacity 0.3s ease-in;
}

// Show body when fully loaded
body.page-loaded {
  opacity: 1;
}

// Make name all same weight (remove bold from last name)
.profile {
  .name {
    font-weight: 400 !important;

    .first-name,
    .middle-name,
    .last-name {
      font-weight: 400 !important;
    }
  }
}

header.post-header .post-title {
  .first-name,
  .middle-name,
  .last-name {
    font-weight: 400 !important;
  }
}

// News section styling
.news {
  h2 {
    border-top: 1px solid var(--global-divider-color);
    padding-top: 1.5rem;
    margin-top: 2rem;
  }
}

// Narrow page margins (wider content area)
.container {
  max-width: 900px !important;
  padding-left: 40px !important;
  padding-right: 40px !important;
}

// Light mode customizations
html[data-theme='light'] {
  --global-bg-color: #FAF9F5 !important;
  --global-theme-color: #0066cc !important; // Blue links

  a {
    color: #0066cc !important;
  }
}

// Ensure link color is blue in default/light mode
:root {
  --global-theme-color: #0066cc !important;
}

a {
  color: var(--global-theme-color) !important;
}

// Dark mode customizations
html[data-theme='dark'] {
  --global-bg-color: #1a2440 !important;
  --global-theme-color: #6BA3FF !important; // Lighter blue for links

  a {
    color: #6BA3FF !important;
  }

  // Keep section titles white
  h2, h3 {
    color: white !important;
  }
}

// Add horizontal lines above section headings
.post article h2 {
  border-top: 1px solid var(--global-divider-color);
  padding-top: 1.5rem;
  margin-top: 2rem;
}

// First h2 shouldn't have top border
.post article > h2:first-of-type {
  border-top: none;
  padding-top: 0;
}

// Reduce profile picture size by 20%
.profile {
  max-width: 80% !important;

  // Remove all spacing around profile image
  figure {
    margin-bottom: 0 !important;
  }

  .img-fluid {
    margin-bottom: 0 !important;
  }
}

// Fix mobile profile picture size and layout
@media (max-width: 576px) {
  .profile {
    width: 100% !important;
    float: none !important;
    margin-left: auto !important;
    margin-right: auto !important;
    margin-bottom: 1.5rem !important;
    text-align: center !important;
    display: block !important;

    figure {
      margin-left: auto !important;
      margin-right: auto !important;
      max-width: 50% !important;
      display: block !important;
    }

    img {
      margin-left: auto !important;
      margin-right: auto !important;
      display: block !important;
    }

    .social {
      text-align: center !important;
      margin-left: auto !important;
      margin-right: auto !important;

      .contact-icons {
        text-align: center !important;
        justify-content: center !important;
        display: flex !important;
      }

      .email-address {
        text-align: center !important;
      }
    }
  }

  // Center name on mobile
  .post header.post-header {
    text-align: center;

    .post-title {
      text-align: center;
    }

    .desc {
      text-align: center;
    }
  }

  // Better container padding on mobile
  .container {
    padding-left: 40px !important;
    padding-right: 40px !important;
  }

  // Improve text readability on mobile
  .post article {
    font-size: 1rem;
    line-height: 1.6;

    p {
      margin-bottom: 1rem;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: none;
      text-align: left;
    }
  }

  // Ensure highlighted projects stack nicely on mobile
  .highlighted-projects {
    .col {
      margin-bottom: 1rem;
    }

    .row {
      margin-left: 0;
      margin-right: 0;
    }
  }
}

// Add adaptive outline to profile picture (black/white)
.profile img {
  border: 2px solid #000000 !important;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1) !important;
}

html[data-theme='dark'] .profile img {
  border-color: #FFFFFF !important;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.2) !important;
}

// Make news scrollable
.news .table-responsive {
  max-height: 400px !important;
  overflow-y: auto !important;
}

// Fix news table color transitions
.news table,
.news table.table {
  color: var(--global-text-color) !important;

  th, td {
    color: var(--global-text-color) !important;
    border-color: var(--global-divider-color) !important;
  }

  a {
    color: var(--global-theme-color) !important;
  }
}

// Ensure Bootstrap table classes also use theme colors
.table {
  th, td {
    color: var(--global-text-color) !important;
  }
}

// Add outline to publication thumbnails and cap size
.bibliography .preview {
  border: 1px solid #000000 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  max-width: 100px !important;
  max-height: 100px !important;
  object-fit: contain !important;
}

html[data-theme='dark'] .bibliography .preview {
  border-color: #FFFFFF !important;
  box-shadow: 0 2px 8px rgba(255, 255, 255, 0.2) !important;
}

// Navbar styling - make tabs black/white based on theme
.navbar-light {
  .navbar-nav {
    .nav-link {
      color: #000000 !important;

      &:hover {
        color: #000000 !important;
      }
    }

    .active > .nav-link {
      color: #000000 !important;
      font-weight: bolder !important;
    }
  }
}

html[data-theme='dark'] {
  .navbar-light {
    .navbar-nav {
      .nav-link {
        color: #FFFFFF !important;

        &:hover {
          color: #FFFFFF !important;
        }
      }

      .active > .nav-link {
        color: #FFFFFF !important;
        font-weight: bolder !important;
      }
    }
  }
}

// Add horizontal line below navbar
header nav {
  border-bottom: 1px solid var(--global-divider-color) !important;
}

// Profile social and email layout - very compact spacing
.profile .social {
  margin-top: 0.5rem !important;
  padding-top: 0 !important;

  .contact-icons {
    margin-top: 0 !important;
    margin-bottom: 0.25rem !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    font-size: 1.5rem !important;

    a {
      opacity: 0;
      animation: fadeIn 0.5s ease-in forwards;
      margin: 0 0.25rem !important;
      padding: 0 !important;

      img, svg {
        width: 1.5rem !important;
        height: 1.5rem !important;
        margin-bottom: 0 !important;
      }
    }

    a:nth-child(1) { animation-delay: 0.1s; }
    a:nth-child(2) { animation-delay: 0.2s; }
    a:nth-child(3) { animation-delay: 0.3s; }
    a:nth-child(4) { animation-delay: 0.4s; }
    a:nth-child(5) { animation-delay: 0.5s; }
  }
}

@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

// Publication link buttons - better size
.bibliography .links {
  margin-top: 0.25rem !important;
  margin-bottom: 0.25rem !important;

  .btn {
    font-size: 0.8rem !important;
    padding: 0.3rem 0.6rem !important;
  }
}

// Add email styling below social icons - very compact, standard font
.profile .email-address {
  margin-top: 0.25rem !important;
  margin-bottom: 0 !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  font-size: 0.85rem;
  text-align: center;

  a {
    color: var(--global-theme-color) !important;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
}

// Hide footer copyright
footer.fixed-bottom {
  display: none !important;
}

// Highlighted projects styling
.highlighted-projects {
  margin-bottom: 2rem;

  .row {
    margin-left: -0.75rem;
    margin-right: -0.75rem;
  }

  .col {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
    margin-bottom: 1.5rem;
  }

  .card {
    border: 1px solid var(--global-divider-color);
    transition: transform 0.2s ease-in-out;
    overflow: hidden;

    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .row {
      margin: 0;
    }

    .project-thumbnail {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background-color: var(--global-card-bg-color);
      display: flex;
      align-items: center;
      justify-content: center;

      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    .card-body {
      padding: 1rem;
    }

    .card-title {
      margin-bottom: 0.5rem;

      a {
        color: var(--global-text-color);
        text-decoration: none;
        font-weight: 600;

        &:hover {
          color: var(--global-theme-color);
        }
      }
    }

    .card-text {
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
    }

    .project-links {
      margin-top: 0.75rem;

      .btn {
        color: var(--global-text-color);
        border: 1px solid var(--global-text-color);
        padding: 0.3rem 0.8rem;
        font-size: 0.85rem;

        &:hover {
          color: var(--global-theme-color);
          border-color: var(--global-theme-color);
        }
      }
    }
  }
}

html[data-theme='dark'] .highlighted-projects {
  .card:hover {
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.15);
  }
}

// Mobile theme toggle - separate fixed button on upper left
.mobile-theme-toggle {
  display: none;
}

@media (max-width: 576px) {
  .mobile-theme-toggle {
    display: block !important;
    position: fixed !important;
    top: 12px !important;
    left: 15px !important;
    z-index: 9999 !important;

    button {
      background: var(--global-bg-color) !important;
      border: 1px solid var(--global-divider-color) !important;
      border-radius: 4px !important;
      padding: 0 !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      width: 36px !important;
      height: 36px !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
      cursor: pointer !important;

      i {
        font-size: 1.2rem !important;
        padding: 0 !important;
        margin: 0 !important;
      }
    }
  }

  // Add padding to navbar to account for theme toggle
  header nav .navbar-brand {
    margin-left: 45px !important;
  }
}

// Tablet optimizations
@media (min-width: 577px) and (max-width: 768px) {
  .profile {
    width: 45% !important;
  }

  .container {
    padding-left: 30px !important;
    padding-right: 30px !important;
  }

  .post article {
    font-size: 1rem;
    line-height: 1.6;
  }
}
